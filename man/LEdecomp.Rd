% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/LEdecomp.R
\name{LEdecomp}
\alias{LEdecomp}
\title{Function for applying different Life-Expectancy decomposition and sensitivity methods}
\usage{
LEdecomp(
  mx1,
  mx2,
  age = NULL,
  nx = NULL,
  n_causes = NULL,
  sex1 = "t",
  sex2 = sex1,
  method = c("lifetable", "arriaga", "arriaga_sym", "sen_arriaga", "sen_arriaga_sym",
    "sen_arriaga_inst", "sen_arriaga_inst2", "sen_arriaga_sym_inst",
    "sen_arriaga_sym_inst2", "chandrasekaran_ii", "sen_chandrasekaran_ii",
    "sen_chandrasekaran_ii_inst", "sen_chandrasekaran_ii_inst2", "chandrasekaran_iii",
    "sen_chandrasekaran_iii", "sen_chandrasekaran_iii_inst",
    "sen_chandrasekaran_iii_inst2", "lopez_ruzicka", "lopez_ruzicka_sym",
    "sen_lopez_ruzicka", "sen_lopez_ruzicka_sym", "sen_lopez_ruzicka_inst",
    "sen_lopez_ruzicka_inst2", 
     "horiuchi", "stepwise", "numerical"),
  closeout = TRUE,
  opt = TRUE,
  tol = 1e-10,
  Num_Intervals = 20,
  symmetrical = TRUE,
  direction = "both",
  perturb = 1e-06,
  ...
)
}
\arguments{
\item{mx1}{numeric. Age-structured mortality rates for population 1 (vector, matrix, or data.frame).}

\item{mx2}{numeric. Age-structured mortality rates for population 2 (same shape as \code{mx1}).}

\item{age}{integer. Lower bound of each age group. If \code{NULL}, it will be inferred from data (see Details).}

\item{nx}{integer vector of age intervals (defaults to 1 when missing).}

\item{n_causes}{integer or \code{NULL}. If provided with stacked vectors, forces the number of causes (columns).}

\item{sex1}{character. \code{"m"},\code{"f"}, or \code{"t"}, affects a0 treatment.}

\item{sex2}{character. \code{"m"},\code{"f"}, or \code{"t"}, affects a0 treatment.}

\item{method}{character. One of the methods in \code{method_registry$method}.}

\item{closeout}{logical. Close out at top age (\code{TRUE}) or assume closed final age group (\code{FALSE}).}

\item{opt}{logical. For lifetable, numerical, and instantaneous sensitivity-based methods, optimize rate averaging
to eliminate the decomposition residual?}

\item{tol}{numeric. Tolerance for rate-averaging optimization.}

\item{Num_Intervals}{integer. For methods that discretize an integral (e.g., Horiuchi).}

\item{symmetrical}{logical. For stepwise replacement only: average 1 to 2 and 2 to 1?}

\item{direction}{character. For stepwise replacement: "up", "down", or "both".}

\item{perturb}{numeric. Small perturbation for numerical derivatives.}

\item{...}{optional arguments passed to \code{numDeriv::grad()} or other internals}
}
\value{
An object of class \code{"LEdecomp"}:
\itemize{
\item \code{mx1}, \code{mx2}, \code{age}, \code{sex1}, \code{sex2}, \code{method}, \code{closeout}, \code{opt}, \code{tol}, \code{Num_Intervals},
\code{symmetrical}, \code{direction}, \code{perturb}
\item \code{sens}: vector/matrix of sensitivities (same dimensions as inputs)
\item \code{LE1}, \code{LE2}: life expectancy for \code{mx1} and \code{mx2}
\item \code{LEdecomp}: vector/matrix of contributions (same shape as inputs)
}
}
\description{
A variety of exact or asymptotically exact life expectancy decomposition methods are implemented.
Also, several life-expectancy descomposition sensitivity methods are implemented to answer how each age will
change with an increase/decrease in life expectancy. See the package README and references for details.
}
\references{
\insertRef{arriaga1984measuring}{LEdecomp}
\insertRef{Chandrasekaran1986}{LEdecomp}
\insertRef{preston2000demography}{LEdecomp}
\insertRef{Ponnapalli2005}{LEdecomp}
}
\seealso{
\code{\link[=sen_e0_mx_lt]{sen_e0_mx_lt()}}, \code{\link[=arriaga]{arriaga()}}, \code{\link[=arriaga_sym]{arriaga_sym()}},
\code{\link[=sen_arriaga]{sen_arriaga()}}, \code{\link[=sen_arriaga_sym]{sen_arriaga_sym()}}
}
